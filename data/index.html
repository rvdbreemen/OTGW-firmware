<!DOCTYPE html>
<html charset="UTF-8">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">  
    <link rel="stylesheet" type="text/css" href="./index.css">
    <script src="./index.js"></script>
    <title>OTGW firmware</title>
  </head>
  <body>
    <font face="Arial">
    <div class="headerrow">
        <div class="headercolumnbig" id="sysName">OTGW firmware</div>
        <div class="headercolumn" id="devName">[hostname]</div>
        <div class="headercolumn" id="devVersion">[version]</div>
        <div class="headercolumn" id='theTime'>[00:00:00]</div>
    </div>
    </font>
    <div id="displayMainPage">
      <div class="nav-container">
        <div class='nav-left'>
          <button class='home nav-item tabButton'>Home</button>
        </div>
        <div class='nav-right'>
          <button class='basicSettings nav-item tabButton'>Settings</button>
          <button class='adminSettings nav-item tabButton'>Advanced</button>
          <div class="adv_dropdown hidden">
            <span class="list_item tabPICflash">PIC firmware</span>
            <span class="list_item tabDeviceInfo">Debug Information</span>
            <span class="list_item FSexplorer">File system contents</span>
          </div>
        </div>
      </div>
      <div id="mainPage">
        <div id="waiting">Wait for it...</div>
      </div>
      
      <!-- OpenTherm Log Viewer Section -->
      <div id="otLogSection" class="ot-log-section">
        <div class="ot-log-header">
          <h3>OpenTherm Message Log</h3>
          <div class="ot-log-status">
            <span id="wsStatus" class="ws-status ws-disconnected">‚óè</span>
            <span id="wsStatusText">Disconnected</span>
          </div>
        </div>
        
        <div class="ot-log-controls">
          <button id="btnToggleLog" class="btn-log-control" title="Expand/Collapse Log">‚ñ≤ Show More</button>
          <button id="btnAutoScroll" class="btn-log-control btn-active" title="Auto-scroll with new messages">üìú Auto-scroll</button>
          <button id="btnClearLog" class="btn-log-control" title="Clear log buffer">üóë Clear</button>
          <button id="btnDownloadLog" class="btn-log-control" title="Download log to file">üíæ Download</button>
          <input type="text" id="searchLog" class="log-search" placeholder="üîç Search logs..." />
          <label class="log-control-label">
            <input type="checkbox" id="chkShowTimestamp" checked />
            Timestamps
          </label>
        </div>
        
        <div id="otLogContainer" class="ot-log-container collapsed">
          <div id="otLogContent" class="ot-log-content"></div>
        </div>
        
        <div class="ot-log-footer">
          <span>Lines: <span id="logLineCount">0</span> / 10000</span>
          <span>Filtered: <span id="logFilteredCount">0</span></span>
        </div>
      </div>
    </div>
    <div id="displayPICflash">
      <div class="nav-container">
        <div class='nav-left'>
          <button class='home nav-item tabButton'>Home</button>
        </div>
        <div class='nav-right'>
          <button class='basicSettings nav-item tabButton'>Settings</button>
          <button class='adminSettings nav-item tabButton'>Advanced</button>
          <div class="adv_dropdown hidden">
            <span class="list_item tabPICflash">PIC firmware</span>
            <span class="list_item tabDeviceInfo">Debug Information</span>
            <span class="list_item FSexplorer">File system contents</span>
          </div>
        </div>
      </div>
      <div id="displayPICpage"></div>
    </div>
    <div id="displayDeviceInfo">
      <div class="nav-container">
        <div class='nav-left'>
          <button class='home nav-item tabButton'>Home</button>
        </div>
        <div class='nav-right'>
          <button class='basicSettings nav-item tabButton'>Settings</button>
          <button class='adminSettings nav-item tabButton'>Advanced</button>
          <div class="adv_dropdown hidden">
            <span class="list_item tabPICflash">PIC firmware</span>
            <span class="list_item tabDeviceInfo">Debug Information</span>
            <span class="list_item FSexplorer">File system contents</span>
          </div>
        </div>
      </div>
      <div id="deviceinfoPage"></div>
    </div>
    <div id="displaySettingsPage">
      <div class="nav-container">
        <div class='nav-left'>
          <button class='home nav-item tabButton'>Home</button>
        </div>
        <div class='nav-right'>
          <button class='basicSettings nav-item tabButton'>Settings</button>
          <button class='adminSettings nav-item tabButton'>Advanced</button>
          <div class="adv_dropdown hidden">
            <span class="list_item tabPICflash">PIC firmware</span>
            <span class="list_item tabDeviceInfo">Debug Information</span>
            <span class="list_item FSexplorer">File system contents</span>
          </div>
        </div>
      </div>
      <div id="settingsPage"></div>
      <div id="settingMessage">Loading...</div>
    </div>
    <div class="footer">
      <div class="nav-left">
        <button class='nav-item tabButton btnSaveSettings hidden'>Save</button>
      </div>
    </div>
    <!-- KEEP THIS --->

    <!-- Pin to bottom right corner -->
    <div class="bottom right-0">2021-2023 &copy; Robert van den Breemen</div>

    <!-- Pin to bottom left corner -->
    <div id="message" class="bottom left-0"></div>
  
    <script>
       window.onload=initMainPage;
    </script>

  </body>

</html>
